{"ast":null,"code":"(function (global, factory) {\n  if ('function' == typeof define && define.amd) define(['exports', 'react', 'prop-types', './styled-elements'], factory);else if ('undefined' != typeof exports) factory(exports, require('react'), require('prop-types'), require('./styled-elements'));else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.React, global.propTypes, global.styledElements), global.index = mod.exports;\n  }\n})(this, function (exports, _react, _propTypes, _styledElements) {\n  'use strict';\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) throw new TypeError('Cannot call a class as a function');\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) throw new ReferenceError('this hasn\\'t been initialised - super() hasn\\'t been called');\n    return call && ('object' == typeof call || 'function' == typeof call) ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if ('function' != typeof superClass && null !== superClass) throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0\n      }\n    }), superClass && (Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass);\n  }\n\n  function last(arr) {\n    var pre = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : '',\n        base = 2 < arr.length ? '' + arr[arr.length - 2] : '';\n    return 0 !== base.indexOf(pre + '> ') && (base = 'bash'), base.replace(pre + '> ', '').split(' ')[0];\n  }\n\n  Object.defineProperty(exports, '__esModule', {\n    value: !0\n  });\n\n  var _class,\n      _temp2,\n      _react2 = _interopRequireDefault(_react),\n      _propTypes2 = _interopRequireDefault(_propTypes),\n      _extends = Object.assign || function (target) {\n    for (var source, i = 1; i < arguments.length; i++) for (var key in source = arguments[i], source) Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);\n\n    return target;\n  },\n      _createClass = function () {\n    function defineProperties(target, props) {\n      for (var descriptor, i = 0; i < props.length; i++) descriptor = props[i], descriptor.enumerable = descriptor.enumerable || !1, descriptor.configurable = !0, 'value' in descriptor && (descriptor.writable = !0), Object.defineProperty(target, descriptor.key, descriptor);\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      return protoProps && defineProperties(Constructor.prototype, protoProps), staticProps && defineProperties(Constructor, staticProps), Constructor;\n    };\n  }(),\n      Tabs = (_temp2 = _class = function (_Component) {\n    function Tabs() {\n      var _ref, _temp, _this, _ret;\n\n      _classCallCheck(this, Tabs);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) args[_key] = arguments[_key];\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Tabs.__proto__ || Object.getPrototypeOf(Tabs)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n        showingPlus: !1\n      }, _this.handleBarClick = function (e) {\n        e.stopPropagation(), _this.props.createTab();\n      }, _this.handleTabClick = function (e, index) {\n        e.preventDefault(), e.stopPropagation(), _this.props.setActiveTab(index);\n      }, _this.handleRemoveClick = function (e, index, instance) {\n        return e.preventDefault(), e.stopPropagation(), _this.props.removeTab(index, instance.props.id), !1;\n      }, _this.removePlus = function () {\n        _this.state.showingPlus && _this.setState({\n          showingPlus: !1\n        });\n      }, _this.showPlus = function () {\n        _this.state.showingPlus || _this.setState({\n          showingPlus: !0\n        });\n      }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    return _inherits(Tabs, _Component), _createClass(Tabs, [{\n      key: 'render',\n      value: function () {\n        var _this2 = this,\n            showingPlus = this.state.showingPlus,\n            _props = this.props,\n            style = _props.style,\n            active = _props.active,\n            tabs = this.context.instances.map(function (_ref2) {\n          var index = _ref2.index,\n              instance = _ref2.instance,\n              title = instance && instance.state ? last(instance.state.summary, instance.state.promptPrefix) : 'bash';\n          return _react2.default.createElement(_styledElements.Tab, {\n            key: index,\n            active: active === index,\n            onClick: function (e) {\n              return _this2.handleTabClick(e, index);\n            },\n            onFocus: function (e) {\n              return _this2.handleTabClick(e, index);\n            },\n            title: title,\n            tabIndex: 0\n          }, 1 < _this2.context.instances.length && _react2.default.createElement(_styledElements.TabClose, {\n            title: 'Close Tab',\n            onMouseDown: function (e) {\n              return _this2.handleRemoveClick(e, index, instance);\n            }\n          }, 'x'), title);\n        });\n\n        return _react2.default.createElement(_styledElements.TabBar, {\n          style: _extends({}, style, this.context.maximise ? {\n            maxWidth: '100%'\n          } : {})\n        }, tabs, _react2.default.createElement(_styledElements.TabBarEmpty, {\n          onMouseEnter: this.showPlus,\n          onMouseLeave: this.removePlus\n        }, _react2.default.createElement(_styledElements.TabPlus, {\n          visible: showingPlus,\n          onClick: this.handleBarClick\n        }, '+')));\n      }\n    }]), Tabs;\n  }(_react.Component), _class.displayName = 'Tabs', _class.propTypes = {\n    style: _propTypes2.default.object,\n    active: _propTypes2.default.string,\n    setActiveTab: _propTypes2.default.func,\n    removeTab: _propTypes2.default.func,\n    createTab: _propTypes2.default.func\n  }, _class.defaultProps = {\n    style: {}\n  }, _class.contextTypes = {\n    instances: _propTypes2.default.array,\n    maximise: _propTypes2.default.bool\n  }, _temp2);\n\n  exports.default = Tabs;\n});","map":null,"metadata":{},"sourceType":"script"}